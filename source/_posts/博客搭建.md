---
title: 博客搭建
date: 2018-09-01 12:48:55
tags:
---

----------
序
--

想做一个自己的博客，而网上的像CSDN之类广告太多，而且没法个性化设置，于是有了搭建自己博客的想法，恰巧在知乎上看到一个教程，**免费**，重点是能免费搞，于是乎……走上了一条不归路……

----------

起源
--

就是这个 [超详细Hexo+Github博客搭建小白教程][1] 我看的第一篇教程，还是相当详细了，于是就按部就班开始了。
这里用的是 [github][2] 和 [hexo][3]
其中github可以用[coding][4]等代替，hexo可以用Jekyll代替
这里在给一篇用coding的[文章][5]
总之我是用github+hexo的，这套应该算是主流配置哈
之后就是一系列的坑了

----------

建站
--

安装hexo是用命令行装的，而用的指令是node.js的，所以要先装node.js这个问题不大


进入一个文件夹，要在里面
用下面的指令安装hexo

    npm install hexo-cli -g
    npm install hexo --save

然后我的那个文件夹里就有了一些不知什么东西
之后我就往下做

    hexo init
    npm install
    
报错了，我以为正常的，其实错误的原因是文件夹不为空
解决方法：清空这个文件夹或新建一个文件夹
至于原本里面的东西，其实我也不知道什么用

这样之后就可以了

    hexo g
    hexo s
    
就可以访问了，一切正常

再来是github与本地连接，因为我本来就是github用户，这个没什么问题，教程也有很详细的


我们在hexo init的文件夹第可以找到这样一个文件`_config.yml`这就是相当重要的配置文件了，文件末尾有这样的

    deploy:
        type:
        
按照教程指示，改为

    deploy:
        type: git
        repository: https://github.com/[你名字]/[你名字].github.io
        branch: master
        
`[你名字]`就是你之前在github上建立的repository的名字
像`type: git`，`type:` 和 `git`之间一定要有空格
另外，`repository:`可以缩写为`repo`一些教程里用的是缩写，我差点没看懂
网址不要写错，我之前复制来的ssh是`git@github.com:KaizynX/KaizynX.github.io.git`
然后就报错了，中间的:应该改为/，不如自己敲吧

还有很重要的一点是之前建立github的respository的名字一定要和你gihub的用户名一样
比如我的github的用户名是`KaizynX`，respository的名字就是`kaizynx.github.io`，小写，我就是因为这个错误调了好久
在你gethub的respository的settings上会显示` Your site is published at https://kaizynx.github.io/ `
因为之前没有完全一致，会导致显示` Your site is published at https://kaizynx.github.io/kaizyn.github.io`
由此引发一些列不可估量的错误，虽然能访问，但是没法正常显示，如这位兄弟的[情况][6]

再者这篇教程中对于`_config.yml`的配置其实没讲清楚
看[这里][7]大概讲清楚了

    url: http://[你名字].github.io
    root: /
    permalink: :year/:month/:day/:title/
    permalink_defaults:

其中有几行是这样的东西
你需要把第一行改一下

至此网站总算是可以用了
三部曲

    hexo clean    #清除缓存
    hexo generate #生成
    hexo deploy   #部署

具体什么意思可以看百度之类，简写就是

    hexo cl
    hexo g -d

**部署之前**应该要安装个git插件

    npm install hexo-deployer-git --save

部署之后可能会跳出一个github的登陆窗口，也可能不会，没什么关系，然后你就可以访问你的网站了，如`https://kaizynx.github.io`
注意是`https`

----------

发布文章
--

站是总算建好了，想起了我最初的目的——写博客

    hexo new 名字

此时博客的目录结构大致如下

    - node_modules
    - public
    - scaffolds
    - source
	    - _posts
    - themes
    
都有什么用可以百度一下
在`_posts`中你就可以看到多了一个`.md`文件
这个就是你新建的博客，`.md`是markdown的格式
竟然是markdown格式，那总该有个IDE吧
[推荐][8] 当然得选一个可以本地编辑有客户端的
编辑完保存，再执行三部曲，过一会你就可以看到你的博客更新了，至此似乎已经实现温饱了！

----------
但是
--
怎么和我想的不太一样啊。
这套hexo+github的实质大概是你用`markdown`写一篇文章，hexo帮你生成`html`，部署到`github`上，是个静态的网页，你只能本地修改，本地上传
可我希望像CSDN那样在线发布的呀

**革命尚未成功，同志仍需努力**


  [1]: https://godweiyang.com/2018/04/13/hexo-blog/
  [2]: https://github.com/
  [3]: https://hexo.io/
  [4]: https://coding.net/
  [5]: http://dugblog.coding.me/Hexo/20180616-build-blog-hexo-next-windows.html
  [6]: https://blog.csdn.net/qq_29347295/article/details/79005154
  [7]: https://blog.csdn.net/xuezhisdc/article/details/53130383
  [8]: https://www.jianshu.com/p/d4e331770e60